import React, { useEffect, useState } from "react";
import LeftChatBubble from "./LeftChatBubble";
import { useDispatch } from "react-redux";
import RightChatBubble from "./RightChatBubble";
import MessageInput from "./MessageInput";
import { addNewMessage } from "../../actions/contact";
import ProfileHeader from "../LeftSidebar/ProfileHeader";
function MessageBox(props) {
  const [chat, setChat] = useState([]);
  const [length, setLength] = useState();
  const dispatch = useDispatch();
  useEffect(() => {
    setChat(props.user.chatlog);
    setLength(props.user.chatlog.length);
  }, [props]);
  let updateMesssages = (message) => {
    let object = {
      text: message,
      timestamp: "12:00",
      sender: "me",
      message_id: length + 1,
    };
    dispatch(addNewMessage(object, props.user.id));
    // updatelength
    setLength(object.message_id);

    setChat([...chat, object]);
  };

  return (
    <>
      <div className="message-box">
        <div className="message-box-header" xs={6} sm={7} md={8} lg={7} xl={8}>
          <ProfileHeader user={props.user} />
        </div>
        {chat.length === 0 && (
          <p className="no-message-alert">NO MESSAGES FOUND</p>
        )}
        {chat.length > 0 && (
          <div className="messages-section">
            {chat.map((m, index) =>
              m.sender === "me" ? (
                <RightChatBubble
                  message={m}
                  key={index}
                  name={"Avinash"}
                  image={
                    "data:image/jpeg;base64,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"
                  }
                />
              ) : (
                <LeftChatBubble
                  message={m}
                  key={index}
                  name={props.user.name}
                  image={props.user.image}
                />
              )
            )}
          </div>
        )}

        <MessageInput newMessageHandler={updateMesssages} user={props.user} />
      </div>
    </>
  );
}

export default MessageBox;
